\doxysection{config\+\_\+file.\+h}
\hypertarget{config__file_8h_source}{}\label{config__file_8h_source}\index{src/config\_file.h@{src/config\_file.h}}
\mbox{\hyperlink{config__file_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ *\ OpenTyrian:\ A\ modern\ cross-\/platform\ port\ of\ Tyrian}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ *\ Copyright\ (C)\ 2015\ \ The\ OpenTyrian\ Development\ Team}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ *\ This\ program\ is\ free\ software;\ you\ can\ redistribute\ it\ and/or}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ *\ modify\ it\ under\ the\ terms\ of\ the\ GNU\ General\ Public\ License}}
\DoxyCodeLine{00007\ \textcolor{comment}{\ *\ as\ published\ by\ the\ Free\ Software\ Foundation;\ either\ version\ 2}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ *\ of\ the\ License,\ or\ (at\ your\ option)\ any\ later\ version.}}
\DoxyCodeLine{00009\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00010\ \textcolor{comment}{\ *\ This\ program\ is\ distributed\ in\ the\ hope\ that\ it\ will\ be\ useful,}}
\DoxyCodeLine{00011\ \textcolor{comment}{\ *\ but\ WITHOUT\ ANY\ WARRANTY;\ without\ even\ the\ implied\ warranty\ of}}
\DoxyCodeLine{00012\ \textcolor{comment}{\ *\ MERCHANTABILITY\ or\ FITNESS\ FOR\ A\ PARTICULAR\ PURPOSE.\ \ See\ the}}
\DoxyCodeLine{00013\ \textcolor{comment}{\ *\ GNU\ General\ Public\ License\ for\ more\ details.}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00015\ \textcolor{comment}{\ *\ You\ should\ have\ received\ a\ copy\ of\ the\ GNU\ General\ Public\ License}}
\DoxyCodeLine{00016\ \textcolor{comment}{\ *\ along\ with\ this\ program;\ if\ not,\ write\ to\ the\ Free\ Software}}
\DoxyCodeLine{00017\ \textcolor{comment}{\ *\ Foundation,\ Inc.,\ 51\ Franklin\ Street,\ Fifth\ Floor,\ Boston,\ MA\ \ 02110-\/1301,\ USA.}}
\DoxyCodeLine{00018\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#ifndef\ CONFIG\_FILE\_H}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#define\ CONFIG\_FILE\_H}}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#include\ <assert.h>}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#include\ <stdbool.h>}}
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#include\ <stdio.h>}}
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#include\ <stdlib.h>}}
\DoxyCodeLine{00032\ \textcolor{preprocessor}{\#include\ <string.h>}}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \textcolor{preprocessor}{\#ifndef\ COMPILE\_TIME\_ASSERT}}
\DoxyCodeLine{00041\ \textcolor{preprocessor}{\#define\ COMPILE\_TIME\_ASSERT(name,\ cond)\ typedef\ int\ assert\_\ \#\#\ name[(cond)\ *\ 2\ -\/\ 1]}}
\DoxyCodeLine{00042\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \textcolor{preprocessor}{\#ifndef\ COUNTOF}}
\DoxyCodeLine{00051\ \textcolor{preprocessor}{\#define\ COUNTOF(a)\ (sizeof(a)\ /\ sizeof(*(a)))}}
\DoxyCodeLine{00052\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \textcolor{comment}{/*\ string\ type\ */}}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00066\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{union}}
\DoxyCodeLine{00067\ \{}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keywordtype}{char}\ short\_buf[16];}
\DoxyCodeLine{00072\ \ \ \ \ }
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{keywordtype}{char}\ *\mbox{\hyperlink{union_config_string_abb5ca16f8dfd8e2c05d3d50efd28aeec}{long\_buf}};}
\DoxyCodeLine{00079\ \}\ \mbox{\hyperlink{union_config_string}{ConfigString}};}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00082\ \mbox{\hyperlink{config__file_8h_a1b324672678e5560697a174097f71797}{COMPILE\_TIME\_ASSERT}}(string\_short\_buf\_sufficient,\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char}\ *)\ +\ 1\ <=\ \mbox{\hyperlink{config__file_8h_ad0add60b29474b53705e3863a72935d4}{COUNTOF}}(((\mbox{\hyperlink{union_config_string}{ConfigString}}\ *)NULL)-\/>short\_buf));}
\DoxyCodeLine{00086\ \textcolor{preprocessor}{\#define\ CONFIG\_STRING\_LONG\_TAG(s)\ ((s).short\_buf[COUNTOF((s).short\_buf)\ -\/\ 1])}}
\DoxyCodeLine{00095\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *config\_string\_to\_cstr(\textcolor{keyword}{const}\ \mbox{\hyperlink{union_config_string}{ConfigString}}\ *\textcolor{keywordtype}{string})}
\DoxyCodeLine{00096\ \{}
\DoxyCodeLine{00097\ \ \ \ \ assert(\textcolor{keywordtype}{string}\ !=\ NULL);}
\DoxyCodeLine{00098\ \ \ \ \ \textcolor{keywordtype}{char}\ is\_long\ =\ CONFIG\_STRING\_LONG\_TAG(*\textcolor{keywordtype}{string});}
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{keywordflow}{return}\ is\_long\ ?}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{string}-\/>long\_buf\ :}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{string}-\/>short\_buf;}
\DoxyCodeLine{00102\ \}}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \textcolor{comment}{/*\ config\ types\ */}}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00109\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct}}
\DoxyCodeLine{00110\ \{}
\DoxyCodeLine{00114\ \ \ \ \ \mbox{\hyperlink{union_config_string}{ConfigString}}\ \mbox{\hyperlink{struct_config_option_a60ce3a2d1d930933332ebe7c2c864466}{key}};}
\DoxyCodeLine{00115\ \ \ \ \ }
\DoxyCodeLine{00123\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{struct_config_option_a1530467edb7b74dc2875de8d5f47d405}{values\_count}};}
\DoxyCodeLine{00124\ \ \ \ \ }
\DoxyCodeLine{00132\ \ \ \ \ \textcolor{keyword}{union}}
\DoxyCodeLine{00133\ \ \ \ \ \{}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{union_config_string}{ConfigString}}\ \mbox{\hyperlink{struct_config_option_aaa78ab04fdd74607567ff1697a9e72b3}{value}};}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{union_config_string}{ConfigString}}\ *\mbox{\hyperlink{struct_config_option_a504fc97f84340337b121e6c1169d12b4}{values}};}
\DoxyCodeLine{00145\ \ \ \ \ \}\ v;}
\DoxyCodeLine{00146\ \}\ \mbox{\hyperlink{struct_config_option}{ConfigOption}};}
\DoxyCodeLine{00147\ }
\DoxyCodeLine{00151\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct}}
\DoxyCodeLine{00152\ \{}
\DoxyCodeLine{00156\ \ \ \ \ \mbox{\hyperlink{union_config_string}{ConfigString}}\ \mbox{\hyperlink{struct_config_section_ab818696bfb515c5a0aa25ad73a251499}{type}};}
\DoxyCodeLine{00157\ \ \ \ \ }
\DoxyCodeLine{00163\ \ \ \ \ \mbox{\hyperlink{union_config_string}{ConfigString}}\ \mbox{\hyperlink{struct_config_section_acdd0e034157eac9530d4e7ce0e8e0965}{name}};}
\DoxyCodeLine{00164\ \ \ \ \ }
\DoxyCodeLine{00168\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{struct_config_section_a87582ec5f744a902e654e691b07923d9}{options\_count}};}
\DoxyCodeLine{00169\ \ \ \ \ }
\DoxyCodeLine{00175\ \ \ \ \ \mbox{\hyperlink{struct_config_option}{ConfigOption}}\ *\mbox{\hyperlink{struct_config_section_a87d421850db6bec2b0c394a9a5e994b9}{options}};}
\DoxyCodeLine{00176\ \}\ \mbox{\hyperlink{struct_config_section}{ConfigSection}};}
\DoxyCodeLine{00177\ }
\DoxyCodeLine{00181\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct}}
\DoxyCodeLine{00182\ \{}
\DoxyCodeLine{00186\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{struct_config_ab086b4a3a787012339e78ec59e48f745}{sections\_count}};}
\DoxyCodeLine{00187\ \ \ \ \ }
\DoxyCodeLine{00193\ \ \ \ \ \mbox{\hyperlink{struct_config_section}{ConfigSection}}\ *\mbox{\hyperlink{struct_config_ab3581da09f55500af3f179ba0f54f6d2}{sections}};}
\DoxyCodeLine{00194\ \}\ \mbox{\hyperlink{struct_config}{Config}};}
\DoxyCodeLine{00195\ }
\DoxyCodeLine{00196\ \textcolor{comment}{/*\ config\ manipulators\ */}}
\DoxyCodeLine{00197\ }
\DoxyCodeLine{00204\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{config__file_8h_a3f3d05b257e620362ba559d38daecfdc}{config\_init}}(\mbox{\hyperlink{struct_config}{Config}}\ *config);}
\DoxyCodeLine{00205\ }
\DoxyCodeLine{00212\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{config__file_8h_a7187757bf0c7eabfe37276f011cb6a57}{config\_deinit}}(\mbox{\hyperlink{struct_config}{Config}}\ *config);}
\DoxyCodeLine{00213\ }
\DoxyCodeLine{00221\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{config__file_8h_a11d7e76e7a53762afbff9d3fd3f958e8}{config\_parse}}(\mbox{\hyperlink{struct_config}{Config}}\ *config,\ FILE\ *file);}
\DoxyCodeLine{00222\ }
\DoxyCodeLine{00230\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{config__file_8h_a944c2a3c32c6fdeabeeb399ba3bdccaa}{config\_write}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{struct_config}{Config}}\ *config,\ FILE\ *file);}
\DoxyCodeLine{00231\ }
\DoxyCodeLine{00232\ \textcolor{comment}{/*\ config\ section\ accessors/manipulators\ -\/-\/\ by\ type,\ name\ */}}
\DoxyCodeLine{00233\ }
\DoxyCodeLine{00235\ \textcolor{keyword}{extern}\ \mbox{\hyperlink{struct_config_section}{ConfigSection}}\ *\mbox{\hyperlink{config__file_8h_a05a15359e64d9991ecd9032c8364e2a2}{config\_add\_section\_len}}(\mbox{\hyperlink{struct_config}{Config}}\ *config,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *type,\ \textcolor{keywordtype}{size\_t}\ type\_len,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *name,\ \textcolor{keywordtype}{size\_t}\ name\_len);}
\DoxyCodeLine{00236\ }
\DoxyCodeLine{00245\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{struct_config_section}{ConfigSection}}\ *config\_add\_section(\mbox{\hyperlink{struct_config}{Config}}\ *config,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *type,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *name)}
\DoxyCodeLine{00246\ \{}
\DoxyCodeLine{00247\ \ \ \ \ assert(type\ !=\ NULL);}
\DoxyCodeLine{00248\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{config__file_8h_a05a15359e64d9991ecd9032c8364e2a2}{config\_add\_section\_len}}(config,\ type,\ strlen(type),\ name,\ name\ ==\ NULL\ ?\ 0\ :\ strlen(name));}
\DoxyCodeLine{00249\ \}}
\DoxyCodeLine{00250\ }
\DoxyCodeLine{00251\ \textcolor{comment}{//\ TODO:\ extern\ Config\ *config\_remove\_section(Config\ *config,\ unsigned\ int\ i);}}
\DoxyCodeLine{00252\ }
\DoxyCodeLine{00262\ \textcolor{keyword}{extern}\ \mbox{\hyperlink{struct_config_section}{ConfigSection}}\ *\mbox{\hyperlink{config__file_8h_a2bf44e2a26e31d824b24165e1b8e5343}{config\_find\_sections}}(\mbox{\hyperlink{struct_config}{Config}}\ *config,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *type,\ \mbox{\hyperlink{struct_config_section}{ConfigSection}}\ **save);}
\DoxyCodeLine{00263\ }
\DoxyCodeLine{00272\ \textcolor{keyword}{extern}\ \mbox{\hyperlink{struct_config_section}{ConfigSection}}\ *\mbox{\hyperlink{config__file_8h_a363a967e0546a8163a4a883f045e3064}{config\_find\_section}}(\mbox{\hyperlink{struct_config}{Config}}\ *config,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *type,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *name);}
\DoxyCodeLine{00273\ }
\DoxyCodeLine{00282\ \textcolor{keyword}{extern}\ \mbox{\hyperlink{struct_config_section}{ConfigSection}}\ *\mbox{\hyperlink{config__file_8h_a86b9314929d40da69ba7061d20b1d799}{config\_find\_or\_add\_section}}(\mbox{\hyperlink{struct_config}{Config}}\ *config,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *type,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *name);}
\DoxyCodeLine{00283\ }
\DoxyCodeLine{00284\ \textcolor{comment}{/*\ config\ option\ accessors/manipulators\ -\/-\/\ by\ key\ */}}
\DoxyCodeLine{00285\ }
\DoxyCodeLine{00287\ \textcolor{keyword}{extern}\ \mbox{\hyperlink{struct_config_option}{ConfigOption}}\ *\mbox{\hyperlink{config__file_8h_a4e0e17e34acc877f2bf9ad55def22430}{config\_set\_option\_len}}(\mbox{\hyperlink{struct_config_section}{ConfigSection}}\ *section,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *key,\ \textcolor{keywordtype}{size\_t}\ key\_len,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *value,\ \textcolor{keywordtype}{size\_t}\ value\_len);}
\DoxyCodeLine{00288\ }
\DoxyCodeLine{00298\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{struct_config_option}{ConfigOption}}\ *config\_set\_option(\mbox{\hyperlink{struct_config_section}{ConfigSection}}\ *section,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *key,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *value)}
\DoxyCodeLine{00299\ \{}
\DoxyCodeLine{00300\ \ \ \ \ assert(key\ !=\ NULL);}
\DoxyCodeLine{00301\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{config__file_8h_a4e0e17e34acc877f2bf9ad55def22430}{config\_set\_option\_len}}(section,\ key,\ strlen(key),\ value,\ value\ ==\ NULL\ ?\ 0\ :\ strlen(value));}
\DoxyCodeLine{00302\ \}}
\DoxyCodeLine{00303\ }
\DoxyCodeLine{00311\ \textcolor{keyword}{extern}\ \mbox{\hyperlink{struct_config_option}{ConfigOption}}\ *\mbox{\hyperlink{config__file_8h_ab11e2f2506afb1d8a50c3fa9d904d799}{config\_get\_option}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{struct_config_section}{ConfigSection}}\ *section,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *key);}
\DoxyCodeLine{00312\ }
\DoxyCodeLine{00314\ \textcolor{keyword}{extern}\ \mbox{\hyperlink{struct_config_option}{ConfigOption}}\ *\mbox{\hyperlink{config__file_8h_a78cb360d1df76a69ccf6f9f80d48c6d6}{config\_get\_or\_set\_option\_len}}(\mbox{\hyperlink{struct_config_section}{ConfigSection}}\ *section,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *key,\ \textcolor{keywordtype}{size\_t}\ key\_len,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *value,\ \textcolor{keywordtype}{size\_t}\ value\_len);}
\DoxyCodeLine{00315\ }
\DoxyCodeLine{00325\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{struct_config_option}{ConfigOption}}\ *config\_get\_or\_set\_option(\mbox{\hyperlink{struct_config_section}{ConfigSection}}\ *section,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *key,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *value)}
\DoxyCodeLine{00326\ \{}
\DoxyCodeLine{00327\ \ \ \ \ assert(key\ !=\ NULL);}
\DoxyCodeLine{00328\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{config__file_8h_a78cb360d1df76a69ccf6f9f80d48c6d6}{config\_get\_or\_set\_option\_len}}(section,\ key,\ strlen(key),\ value,\ value\ ==\ NULL\ ?\ 0\ :\ strlen(value));}
\DoxyCodeLine{00329\ \}}
\DoxyCodeLine{00330\ }
\DoxyCodeLine{00332\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{config__file_8h_aa558dfb03cb232c698436b1dcc1a5f64}{config\_set\_string\_option\_len}}(\mbox{\hyperlink{struct_config_section}{ConfigSection}}\ *section,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *key,\ \textcolor{keywordtype}{size\_t}\ key\_len,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *value,\ \textcolor{keywordtype}{size\_t}\ value\_len);}
\DoxyCodeLine{00333\ }
\DoxyCodeLine{00342\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ config\_set\_string\_option(\mbox{\hyperlink{struct_config_section}{ConfigSection}}\ *section,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *key,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *value)}
\DoxyCodeLine{00343\ \{}
\DoxyCodeLine{00344\ \ \ \ \ assert(key\ !=\ NULL);}
\DoxyCodeLine{00345\ \ \ \ \ \mbox{\hyperlink{config__file_8h_aa558dfb03cb232c698436b1dcc1a5f64}{config\_set\_string\_option\_len}}(section,\ key,\ strlen(key),\ value,\ value\ ==\ NULL\ ?\ 0\ :\ strlen(value));}
\DoxyCodeLine{00346\ \}}
\DoxyCodeLine{00347\ }
\DoxyCodeLine{00356\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{config__file_8h_aed322c5901eb5ee05ca27b0b9ff402c7}{config\_get\_string\_option}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{struct_config_section}{ConfigSection}}\ *section,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *key,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ **out\_value);}
\DoxyCodeLine{00357\ }
\DoxyCodeLine{00367\ \textcolor{keyword}{extern}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\mbox{\hyperlink{config__file_8h_ade3c9bd0bcdcb3137562e20b7db77913}{config\_get\_or\_set\_string\_option}}(\mbox{\hyperlink{struct_config_section}{ConfigSection}}\ *section,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *key,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *value);}
\DoxyCodeLine{00368\ }
\DoxyCodeLine{00372\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{enum}}
\DoxyCodeLine{00373\ \{}
\DoxyCodeLine{00374\ \ \ \ \ ZERO\_ONE\ =\ 0,}
\DoxyCodeLine{00375\ \ \ \ \ NO\_YES\ =\ 1,}
\DoxyCodeLine{00376\ \ \ \ \ OFF\_ON\ =\ 2,}
\DoxyCodeLine{00377\ \ \ \ \ FALSE\_TRUE\ =\ 3,}
\DoxyCodeLine{00378\ \}\ \mbox{\hyperlink{config__file_8h_a8a4c8e94dafc55fafdebb3031ed01c72}{ConfigBoolStyle}};}
\DoxyCodeLine{00379\ }
\DoxyCodeLine{00389\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{config__file_8h_a58c5583b6204a25b6c1c7a25669c78f9}{config\_set\_bool\_option}}(\mbox{\hyperlink{struct_config_section}{ConfigSection}}\ *section,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *key,\ \textcolor{keywordtype}{bool}\ value,\ \mbox{\hyperlink{config__file_8h_a8a4c8e94dafc55fafdebb3031ed01c72}{ConfigBoolStyle}}\ style);}
\DoxyCodeLine{00390\ }
\DoxyCodeLine{00399\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{config__file_8h_ae9fe076c21dac00a36e55b5aa390f5e8}{config\_get\_bool\_option}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{struct_config_section}{ConfigSection}}\ *section,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *key,\ \textcolor{keywordtype}{bool}\ *out\_value);}
\DoxyCodeLine{00400\ }
\DoxyCodeLine{00411\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{config__file_8h_a966707821ca39445180e6b8f1ebc8c5d}{config\_get\_or\_set\_bool\_option}}(\mbox{\hyperlink{struct_config_section}{ConfigSection}}\ *section,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *key,\ \textcolor{keywordtype}{bool}\ value,\ \mbox{\hyperlink{config__file_8h_a8a4c8e94dafc55fafdebb3031ed01c72}{ConfigBoolStyle}}\ style);}
\DoxyCodeLine{00412\ }
\DoxyCodeLine{00421\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{config__file_8h_afa037a34cf4ad723fd3ec442287e9931}{config\_set\_int\_option}}(\mbox{\hyperlink{struct_config_section}{ConfigSection}}\ *section,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *key,\ \textcolor{keywordtype}{int}\ value);}
\DoxyCodeLine{00422\ }
\DoxyCodeLine{00431\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{config__file_8h_ae50af426f8d653e976bb5d2f057e07fe}{config\_get\_int\_option}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{struct_config_section}{ConfigSection}}\ *section,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *key,\ \textcolor{keywordtype}{int}\ *out\_value);}
\DoxyCodeLine{00432\ }
\DoxyCodeLine{00442\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{config__file_8h_a0adf478fb2e3a336a27ff12b61fd4631}{config\_get\_or\_set\_int\_option}}(\mbox{\hyperlink{struct_config_section}{ConfigSection}}\ *section,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *key,\ \textcolor{keywordtype}{int}\ value);}
\DoxyCodeLine{00443\ }
\DoxyCodeLine{00453\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{config__file_8h_a823ef06e689bfa4da7aa9ba2f65fec42}{config\_set\_uint\_option}}(\mbox{\hyperlink{struct_config_section}{ConfigSection}}\ *section,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *key,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ value);}
\DoxyCodeLine{00454\ }
\DoxyCodeLine{00463\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{config__file_8h_af0e07ca9dfb96427e2d0aff248467d8d}{config\_get\_uint\_option}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{struct_config_section}{ConfigSection}}\ *section,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *key,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ *out\_value);}
\DoxyCodeLine{00464\ }
\DoxyCodeLine{00474\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{config__file_8h_a304bb11b410190da27ceda683d13da44}{config\_get\_or\_set\_uint\_option}}(\mbox{\hyperlink{struct_config_section}{ConfigSection}}\ *section,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *key,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ value);}
\DoxyCodeLine{00475\ }
\DoxyCodeLine{00476\ \textcolor{comment}{/*\ config\ option\ accessors/manipulators\ -\/-\/\ by\ reference\ */}}
\DoxyCodeLine{00477\ }
\DoxyCodeLine{00479\ \textcolor{keyword}{extern}\ \mbox{\hyperlink{struct_config_option}{ConfigOption}}\ *\mbox{\hyperlink{config__file_8h_a54ae13161de3eeb73f6c7a336deaf022}{config\_set\_value\_len}}(\mbox{\hyperlink{struct_config_option}{ConfigOption}}\ *option,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *value,\ \textcolor{keywordtype}{size\_t}\ value\_len);}
\DoxyCodeLine{00480\ }
\DoxyCodeLine{00488\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{struct_config_option}{ConfigOption}}\ *config\_set\_value(\mbox{\hyperlink{struct_config_option}{ConfigOption}}\ *option,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *value)}
\DoxyCodeLine{00489\ \{}
\DoxyCodeLine{00490\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{config__file_8h_a54ae13161de3eeb73f6c7a336deaf022}{config\_set\_value\_len}}(option,\ value,\ value\ ==\ NULL\ ?\ 0\ :\ strlen(value));}
\DoxyCodeLine{00491\ \}}
\DoxyCodeLine{00492\ }
\DoxyCodeLine{00494\ \textcolor{keyword}{extern}\ \mbox{\hyperlink{struct_config_option}{ConfigOption}}\ *\mbox{\hyperlink{config__file_8h_aac33016b50b4cfddd39c19e90f28918f}{config\_add\_value\_len}}(\mbox{\hyperlink{struct_config_option}{ConfigOption}}\ *option,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *value,\ \textcolor{keywordtype}{size\_t}\ value\_len);}
\DoxyCodeLine{00495\ }
\DoxyCodeLine{00503\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{struct_config_option}{ConfigOption}}\ *config\_add\_value(\mbox{\hyperlink{struct_config_option}{ConfigOption}}\ *option,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *value)}
\DoxyCodeLine{00504\ \{}
\DoxyCodeLine{00505\ \ \ \ \ assert(value\ !=\ NULL);}
\DoxyCodeLine{00506\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{config__file_8h_aac33016b50b4cfddd39c19e90f28918f}{config\_add\_value\_len}}(option,\ value,\ strlen(value));}
\DoxyCodeLine{00507\ \}}
\DoxyCodeLine{00508\ }
\DoxyCodeLine{00516\ \textcolor{keyword}{extern}\ \mbox{\hyperlink{struct_config_option}{ConfigOption}}\ *\mbox{\hyperlink{config__file_8h_ad4032f05d11867a9234629cb0740cad5}{config\_remove\_value}}(\mbox{\hyperlink{struct_config_option}{ConfigOption}}\ *option,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ i);}
\DoxyCodeLine{00517\ }
\DoxyCodeLine{00524\ \textcolor{keyword}{extern}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\mbox{\hyperlink{config__file_8h_a728e69a9944a7664d07dd8e3ea26756c}{config\_get\_value}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{struct_config_option}{ConfigOption}}\ *option);}
\DoxyCodeLine{00525\ }
\DoxyCodeLine{00532\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ config\_is\_value\_list(\textcolor{keyword}{const}\ \mbox{\hyperlink{struct_config_option}{ConfigOption}}\ *option)}
\DoxyCodeLine{00533\ \{}
\DoxyCodeLine{00534\ \ \ \ \ assert(option\ !=\ NULL);}
\DoxyCodeLine{00535\ \ \ \ \ \textcolor{keywordflow}{return}\ option-\/>\mbox{\hyperlink{struct_config_option_a1530467edb7b74dc2875de8d5f47d405}{values\_count}}\ >\ 0\ ||}
\DoxyCodeLine{00536\ \ \ \ \ \ \ \ \ config\_string\_to\_cstr(\&option-\/>\mbox{\hyperlink{struct_config_option_a55da89cb9bf541eb2d31a2c32d48cbc4}{v}}.\mbox{\hyperlink{struct_config_option_aaa78ab04fdd74607567ff1697a9e72b3}{value}})\ ==\ NULL;}
\DoxyCodeLine{00537\ \}}
\DoxyCodeLine{00538\ }
\DoxyCodeLine{00546\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ config\_get\_value\_count(\textcolor{keyword}{const}\ \mbox{\hyperlink{struct_config_option}{ConfigOption}}\ *option)}
\DoxyCodeLine{00547\ \{}
\DoxyCodeLine{00548\ \ \ \ \ assert(option\ !=\ NULL);}
\DoxyCodeLine{00549\ \ \ \ \ \textcolor{keywordflow}{return}\ option-\/>\mbox{\hyperlink{struct_config_option_a1530467edb7b74dc2875de8d5f47d405}{values\_count}}\ ==\ 0\ ?}
\DoxyCodeLine{00550\ \ \ \ \ \ \ \ \ (config\_string\_to\_cstr(\&option-\/>\mbox{\hyperlink{struct_config_option_a55da89cb9bf541eb2d31a2c32d48cbc4}{v}}.\mbox{\hyperlink{struct_config_option_aaa78ab04fdd74607567ff1697a9e72b3}{value}})\ ==\ NULL\ ?\ 0\ :\ 1)\ :}
\DoxyCodeLine{00551\ \ \ \ \ \ \ \ \ option-\/>values\_count;}
\DoxyCodeLine{00552\ \}}
\DoxyCodeLine{00553\ }
\DoxyCodeLine{00560\ \textcolor{preprocessor}{\#define\ foreach\_option\_value(string\_value,\ option)\ \(\backslash\)}}
\DoxyCodeLine{00561\ \textcolor{preprocessor}{\ \ \ \ for\ (ConfigOption\ *\_option\ =\ (option);\ \_option\ !=\ NULL;\ \_option\ =\ NULL)\ \(\backslash\)}}
\DoxyCodeLine{00562\ \textcolor{preprocessor}{\ \ \ \ for\ (ConfigString\ *\_values\_begin\ =\ \_option-\/>values\_count\ ==\ 0\ ?\ \&\_option-\/>v.value\ :\ \&\_option-\/>v.values[0],\ \(\backslash\)}}
\DoxyCodeLine{00563\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\_values\_end\ =\ \_option-\/>values\_count\ ==\ 0\ ?\ \_values\_begin\ +\ 1\ :\ \&\_option-\/>v.values[\_option-\/>values\_count],\ \(\backslash\)}}
\DoxyCodeLine{00564\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\_value\ =\ \_values\_begin;\ \_value\ <\ \_values\_end;\ ++\_value)\ \(\backslash\)}}
\DoxyCodeLine{00565\ \textcolor{preprocessor}{\ \ \ \ for\ (const\ char\ *(string\_value)\ =\ config\_string\_to\_cstr(\_value);\ (string\_value)\ !=\ NULL;\ (string\_value)\ =\ NULL)}}
\DoxyCodeLine{00566\ }
\DoxyCodeLine{00574\ \textcolor{preprocessor}{\#define\ foreach\_option\_i\_value(i,\ string\_value,\ option)\ \(\backslash\)}}
\DoxyCodeLine{00575\ \textcolor{preprocessor}{\ \ \ \ for\ (unsigned\ int\ (i)\ =\ 0;\ (i)\ ==\ 0;\ (i)\ =\ \string~0)\ \(\backslash\)}}
\DoxyCodeLine{00576\ \textcolor{preprocessor}{\ \ \ \ for\ (ConfigOption\ *\_option\ =\ (option);\ \_option\ !=\ NULL;\ \_option\ =\ NULL)\ \(\backslash\)}}
\DoxyCodeLine{00577\ \textcolor{preprocessor}{\ \ \ \ for\ (ConfigString\ *\_values\_begin\ =\ \_option-\/>values\_count\ ==\ 0\ ?\ \&\_option-\/>v.value\ :\ \&\_option-\/>v.values[0],\ \(\backslash\)}}
\DoxyCodeLine{00578\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\_values\_end\ =\ \_option-\/>values\_count\ ==\ 0\ ?\ \_values\_begin\ +\ 1\ :\ \&\_option-\/>v.values[\_option-\/>values\_count],\ \(\backslash\)}}
\DoxyCodeLine{00579\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ *\_value\ =\ \_values\_begin;\ \_value\ <\ \_values\_end;\ ++\_value,\ (i)\ =\ \_value\ -\/\ \_values\_begin)\ \(\backslash\)}}
\DoxyCodeLine{00580\ \textcolor{preprocessor}{\ \ \ \ for\ (const\ char\ *(string\_value)\ =\ config\_string\_to\_cstr(\_value);\ (string\_value)\ !=\ NULL;\ (string\_value)\ =\ NULL)}}
\DoxyCodeLine{00581\ }
\DoxyCodeLine{00585\ \textcolor{preprocessor}{\#define\ foreach\_remove\_option\_value()\ \(\backslash\)}}
\DoxyCodeLine{00586\ \textcolor{preprocessor}{\ \ \ \ \{\ \(\backslash\)}}
\DoxyCodeLine{00587\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ extern\ void\ config\_oom(void);\ \(\backslash\)}}
\DoxyCodeLine{00588\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ unsigned\ int\ \_value\_i\ =\ \_value\ -\/\ \_values\_begin;\ \(\backslash\)}}
\DoxyCodeLine{00589\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ if\ (config\_remove\_value(\_option,\ \_value\_i)\ ==\ NULL)\ \(\backslash\)}}
\DoxyCodeLine{00590\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ config\_oom();\ \(\backslash\)}}
\DoxyCodeLine{00591\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \_values\_begin\ =\ \_option-\/>values\_count\ ==\ 0\ ?\ \&\_option-\/>v.value\ :\ \&\_option-\/>v.values[0];\ \(\backslash\)}}
\DoxyCodeLine{00592\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \_values\_end\ =\ \_option-\/>values\_count\ ==\ 0\ ?\ \_values\_begin\ +\ 1\ :\ \&\_option-\/>v.values[\_option-\/>values\_count];\ \(\backslash\)}}
\DoxyCodeLine{00593\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \_value\ =\ \_values\_begin\ +\ \_value\_i\ -\/\ 1;\ \(\backslash\)}}
\DoxyCodeLine{00594\ \textcolor{preprocessor}{\ \ \ \ \}}}
\DoxyCodeLine{00595\ }
\DoxyCodeLine{00596\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
